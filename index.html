<!DOCTYPE html>
<html lang="ko">
<head>
Β  Β  <meta charset="UTF-8">
Β  Β  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Β  Β  <title>μκΈ°κ³„λ° μ•± - URL νλΌλ―Έν„° λ°©μ‹</title>
Β  Β  <style>
Β  Β  Β  Β  body {
Β  Β  Β  Β  Β  Β  font-family: Arial, sans-serif;
Β  Β  Β  Β  Β  Β  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Β  Β  Β  Β  Β  Β  min-height: 100vh;
Β  Β  Β  Β  Β  Β  padding: 10px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .container {
Β  Β  Β  Β  Β  Β  max-width: 400px;
Β  Β  Β  Β  Β  Β  margin: 0 auto;
Β  Β  Β  Β  Β  Β  background: white;
Β  Β  Β  Β  Β  Β  border-radius: 20px;
Β  Β  Β  Β  Β  Β  padding: 20px;
Β  Β  Β  Β  Β  Β  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .header h1 {
Β  Β  Β  Β  Β  Β  color: #333;
Β  Β  Β  Β  Β  Β  font-size: 24px;
Β  Β  Β  Β  Β  Β  margin-bottom: 10px;
Β  Β  Β  Β  Β  Β  text-align: center;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .sync-status {
Β  Β  Β  Β  Β  Β  background: #e8f5e8;
Β  Β  Β  Β  Β  Β  border: 1px solid #4CAF50;
Β  Β  Β  Β  Β  Β  border-radius: 10px;
Β  Β  Β  Β  Β  Β  padding: 8px;
Β  Β  Β  Β  Β  Β  text-align: center;
Β  Β  Β  Β  Β  Β  margin-bottom: 15px;
Β  Β  Β  Β  Β  Β  font-size: 12px;
Β  Β  Β  Β  Β  Β  color: #2e7d32;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .sync-status.error {
Β  Β  Β  Β  Β  Β  background: #ffebee;
Β  Β  Β  Β  Β  Β  border-color: #f44336;
Β  Β  Β  Β  Β  Β  color: #c62828;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .sync-status.loading {
Β  Β  Β  Β  Β  Β  background: #fff3e0;
Β  Β  Β  Β  Β  Β  border-color: #ff9800;
Β  Β  Β  Β  Β  Β  color: #ef6c00;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .characters {
Β  Β  Β  Β  Β  Β  display: flex;
Β  Β  Β  Β  Β  Β  gap: 15px;
Β  Β  Β  Β  Β  Β  margin-bottom: 30px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .character {
Β  Β  Β  Β  Β  Β  flex: 1;
Β  Β  Β  Β  Β  Β  background: #f8f9fa;
Β  Β  Β  Β  Β  Β  border-radius: 15px;
Β  Β  Β  Β  Β  Β  padding: 15px;
Β  Β  Β  Β  Β  Β  text-align: center;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  /* μΊλ¦­ν„° μ΄λ―Έμ§€ μ¤νƒ€μΌ (μ΄λ¨ν‹°μ½ λ€μ‹  μ΄λ―Έμ§€λ΅ λ³€κ²½) */
Β  Β  Β  Β  .character-img {
Β  Β  Β  Β  Β  Β  width: 80px; /* μ΄λ―Έμ§€ ν¬κΈ° μ΅°μ  */
Β  Β  Β  Β  Β  Β  height: 80px;
Β  Β  Β  Β  Β  Β  object-fit: contain; /* μ΄λ―Έμ§€κ°€ μλ¦¬μ§€ μ•κ³  ν”„λ μ„μ— λ§κ² μ΅°μ  */
Β  Β  Β  Β  Β  Β  margin-bottom: 10px;
Β  Β  Β  Β  Β  Β  border-radius: 50%; /* μ΄λ―Έμ§€λ¥Ό μ›ν•μΌλ΅ λ§λ“¤κ³  μ‹¶λ‹¤λ©΄ */
Β  Β  Β  Β  Β  Β  border: 2px solid #ddd;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .character-name {
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  Β  Β  margin-bottom: 5px;
Β  Β  Β  Β  Β  Β  color: #333;
Β  Β  Β  Β  }

Β  Β  Β  Β  /* λ€μ‚¬ μ¶”κ°€ */
Β  Β  Β  Β  .character-dialogue {
Β  Β  Β  Β  Β  Β  font-size: 0.9em;
Β  Β  Β  Β  Β  Β  color: #555;
Β  Β  Β  Β  Β  Β  margin-bottom: 10px;
Β  Β  Β  Β  Β  Β  min-height: 1.2em; /* λ€μ‚¬κ°€ μ—†μ„ λ• κ³µκ°„ ν™•λ³΄ */
Β  Β  Β  Β  }

Β  Β  Β  Β  /* μ νλΈ λ§ν¬ μ¤νƒ€μΌ */
Β  Β  Β  Β  .character-youtube {
Β  Β  Β  Β  Β  Β  font-size: 0.8em;
Β  Β  Β  Β  Β  Β  margin-top: 5px;
Β  Β  Β  Β  Β  Β  min-height: 1em; /* λ§ν¬κ°€ μ—†μ„ λ• κ³µκ°„ ν™•λ³΄ */
Β  Β  Β  Β  }
Β  Β  Β  Β  .character-youtube a {
Β  Β  Β  Β  Β  Β  color: #007bff;
Β  Β  Β  Β  Β  Β  text-decoration: none;
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  }
Β  Β  Β  Β  .character-youtube a:hover {
Β  Β  Β  Β  Β  Β  text-decoration: underline;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .character-level {
Β  Β  Β  Β  Β  Β  font-size: 14px;
Β  Β  Β  Β  Β  Β  color: #666;
Β  Β  Β  Β  Β  Β  margin-bottom: 10px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .progress-bar {
Β  Β  Β  Β  Β  Β  background: #e0e0e0;
Β  Β  Β  Β  Β  Β  border-radius: 10px;
Β  Β  Β  Β  Β  Β  height: 8px;
Β  Β  Β  Β  Β  Β  overflow: hidden;
Β  Β  Β  Β  Β  Β  margin-bottom: 5px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .progress-fill {
Β  Β  Β  Β  Β  Β  height: 100%;
Β  Β  Β  Β  Β  Β  background: linear-gradient(90deg, #4CAF50, #45a049);
Β  Β  Β  Β  Β  Β  transition: width 0.3s ease;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .progress-text {
Β  Β  Β  Β  Β  Β  font-size: 12px;
Β  Β  Β  Β  Β  Β  color: #666;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .actions {
Β  Β  Β  Β  Β  Β  margin-bottom: 20px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .action-category {
Β  Β  Β  Β  Β  Β  margin-bottom: 20px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .category-title {
Β  Β  Β  Β  Β  Β  font-size: 18px;
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  Β  Β  margin-bottom: 10px;
Β  Β  Β  Β  Β  Β  padding: 10px;
Β  Β  Β  Β  Β  Β  background: #f0f0f0;
Β  Β  Β  Β  Β  Β  border-radius: 10px;
Β  Β  Β  Β  Β  Β  text-align: center;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .category-title.strength {
Β  Β  Β  Β  Β  Β  background: #ffebee;
Β  Β  Β  Β  Β  Β  color: #c62828;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .category-title.intelligence {
Β  Β  Β  Β  Β  Β  background: #e3f2fd;
Β  Β  Β  Β  Β  Β  color: #1565c0;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .action-buttons {
Β  Β  Β  Β  Β  Β  display: grid;
Β  Β  Β  Β  Β  Β  gap: 10px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .action-btn {
Β  Β  Β  Β  Β  Β  background: #667eea;
Β  Β  Β  Β  Β  Β  color: white;
Β  Β  Β  Β  Β  Β  border: none;
Β  Β  Β  Β  Β  Β  padding: 12px;
Β  Β  Β  Β  Β  Β  border-radius: 10px;
Β  Β  Β  Β  Β  Β  cursor: pointer;
Β  Β  Β  Β  Β  Β  font-size: 14px;
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  Β  Β  transition: all 0.3s ease;
Β  Β  Β  Β  Β  Β  display: flex;
Β  Β  Β  Β  Β  Β  justify-content: space-between;
Β  Β  Β  Β  Β  Β  align-items: center;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .action-btn:hover {
Β  Β  Β  Β  Β  Β  background: #5a67d8;
Β  Β  Β  Β  Β  Β  transform: translateY(-2px);
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .action-btn:active {
Β  Β  Β  Β  Β  Β  transform: translateY(0);
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .points {
Β  Β  Β  Β  Β  Β  background: #4CAF50;
Β  Β  Β  Β  Β  Β  color: white;
Β  Β  Β  Β  Β  Β  padding: 4px 8px;
Β  Β  Β  Β  Β  Β  border-radius: 15px;
Β  Β  Β  Β  Β  Β  font-size: 12px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .notification {
Β  Β  Β  Β  Β  Β  position: fixed;
Β  Β  Β  Β  Β  Β  top: 20px;
Β  Β  Β  Β  Β  Β  left: 50%;
Β  Β  Β  Β  Β  Β  transform: translateX(-50%);
Β  Β  Β  Β  Β  Β  background: #4CAF50;
Β  Β  Β  Β  Β  Β  color: white;
Β  Β  Β  Β  Β  Β  padding: 10px 20px;
Β  Β  Β  Β  Β  Β  border-radius: 25px;
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  Β  Β  opacity: 0;
Β  Β  Β  Β  Β  Β  transition: opacity 0.3s ease;
Β  Β  Β  Β  Β  Β  z-index: 1000;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .notification.show {
Β  Β  Β  Β  Β  Β  opacity: 1;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .notification.error {
Β  Β  Β  Β  Β  Β  background: #f44336;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .reset-btn, .undo-btn {
Β  Β  Β  Β  Β  Β  width: 100%;
Β  Β  Β  Β  Β  Β  border: none;
Β  Β  Β  Β  Β  Β  padding: 10px;
Β  Β  Β  Β  Β  Β  border-radius: 10px;
Β  Β  Β  Β  Β  Β  cursor: pointer;
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  Β  Β  margin-top: 10px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .reset-btn {
Β  Β  Β  Β  Β  Β  background: #ff4757;
Β  Β  Β  Β  Β  Β  color: white;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .undo-btn {
Β  Β  Β  Β  Β  Β  background: #ffa502;
Β  Β  Β  Β  Β  Β  color: white;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .user-label {
Β  Β  Β  Β  Β  Β  font-size: 16px;
Β  Β  Β  Β  Β  Β  font-weight: bold;
Β  Β  Β  Β  Β  Β  color: #667eea;
Β  Β  Β  Β  Β  Β  margin-bottom: 5px;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  .debug-info {
Β  Β  Β  Β  Β  Β  background: #f8f9fa;
Β  Β  Β  Β  Β  Β  border-radius: 5px;
Β  Β  Β  Β  Β  Β  padding: 8px;
Β  Β  Β  Β  Β  Β  margin: 10px 0;
Β  Β  Β  Β  Β  Β  font-size: 11px;
Β  Β  Β  Β  Β  Β  color: #666;
Β  Β  Β  Β  }
Β  Β  </style>
</head>
<body>
Β  Β  <div class="container">
Β  Β  Β  Β  <div class="header">
Β  Β  Β  Β  Β  Β  <h1>π μκΈ°κ³„λ° μΊλ¦­ν„° μ„±μ¥ π</h1>
Β  Β  Β  Β  </div>
Β  Β  Β  Β  
Β  Β  Β  Β  <div id="sync-status" class="sync-status">
Β  Β  Β  Β  Β  Β  π”„ URL νλΌλ―Έν„° λ°©μ‹μΌλ΅ μ—°κ²° μ¤‘...
Β  Β  Β  Β  </div>
Β  Β  Β  Β  
Β  Β  Β  Β  <div class="debug-info" id="debug-info">
Β  Β  Β  Β  Β  Β  μ—°κ²° λ°©μ‹: URL νλΌλ―Έν„° + Proxy<br>
Β  Β  Β  Β  Β  Β  μƒνƒ: μ¤€λΉ„ μ¤‘...
Β  Β  Β  Β  </div>
Β  Β  Β  Β  
Β  Β  Β  Β  <div id="app-content">
Β  Β  Β  Β  Β  Β  <div class="characters">
Β  Β  Β  Β  Β  Β  Β  Β  <div class="character">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="user-label">π‘‘ μμ§€</div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <img class="character-img" id="yeji-image" src="" alt="μμ§€ μΊλ¦­ν„°">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-name" id="yeji-name"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-dialogue" id="yeji-dialogue"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-youtube" id="yeji-youtube"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-level" id="yeji-level"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="progress-bar">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="progress-fill" id="yeji-progress" style="width: 0%"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="progress-text" id="yeji-text"></div>
Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  <div class="character">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="user-label">π‘‘ μ΄μ§€</div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <img class="character-img" id="izi-image" src="" alt="μ΄μ§€ μΊλ¦­ν„°">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-name" id="izi-name"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-dialogue" id="izi-dialogue"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-youtube" id="izi-youtube"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="character-level" id="izi-level"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="progress-bar">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="progress-fill" id="izi-progress" style="width: 0%"></div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="progress-text" id="izi-text"></div>
Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  <div class="actions">
Β  Β  Β  Β  Β  Β  Β  Β  <div style="text-align: center; margin-bottom: 15px;">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <label for="user-select" style="font-weight: bold; margin-right: 10px;">λ„κ°€ ν™λ™ν–λ‚μ”?</label>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <select id="user-select" style="padding: 8px; border-radius: 5px; border: 1px solid #ddd; font-size: 14px;">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <option value="μμ§€">μμ§€</option>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <option value="μ΄μ§€">μ΄μ§€</option>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </select>
Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  <div class="action-category">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="category-title strength">π’ κ·Όλ ¥ ν™λ™</div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="action-buttons">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(15)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π‹οΈ ν—¬μ¤μ¥ μ΄λ™ (1μ‹κ°„)</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+15</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(15)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π’ƒ μ—°μµμ‹¤ λ„μ¤ (1μ‹κ°„)</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+15</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(15)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π μμ 1ν</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+15</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(10)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π¶ κ±·κΈ° (1μ‹κ°„)</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+10</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  <div class="action-category">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="category-title intelligence">π§  μ§€λ ¥ ν™λ™</div>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <div class="action-buttons">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(5)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π“ μ „κ³µκ³µλ¶€ (10λ¶„)</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+5</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(2)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π¨ μ·¨λ―Έκ³µλ¶€ (10λ¶„)</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+2</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <button class="action-btn" onclick="addPoints(1)">
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span>π“– λ…μ„ (10λ¶„)</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  <span class="points">+1</span>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </button>
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  </div>
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  <button class="undo-btn" onclick="undoLastAction()">β†©οΈ λ§μ§€λ§‰ ν–‰λ™ λλλ¦¬κΈ°</button>
Β  Β  Β  Β  Β  Β  <button class="reset-btn" onclick="resetProgress()">π”„ μ§„ν–‰μƒν™© μ΄κΈ°ν™”</button>
Β  Β  Β  Β  </div>
Β  Β  </div>
Β  Β  
Β  Β  <div id="notification" class="notification"></div>
Β  Β  
Β  Β  <script>
Β  Β  Β  Β  // Apps Script URL
Β  Β  Β  Β  const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxVI7G72DGmJ08XA7XggU2PZ_2G4zlZFlqAYqyVZYH22DyitjoqcSMyWYAWltGvLfcBIQ/exec';
Β  Β  Β  Β  
Β  Β  Β  Β  // AllOrigins Proxy
Β  Β  Β  Β  const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
Β  Β  Β  Β  
Β  Β  Β  Β  // κ²μ„ λ°μ΄ν„°
Β  Β  Β  Β  let gameData = {
Β  Β  Β  Β  Β  Β  μμ§€: { points: 0, level: 1 },
Β  Β  Β  Β  Β  Β  μ΄μ§€: { points: 0, level: 1 }
Β  Β  Β  Β  };
Β  Β  Β  Β  
Β  Β  Β  Β  // λ§μ§€λ§‰ ν–‰λ™ κΈ°λ΅
Β  Β  Β  Β  let lastAction = null;
Β  Β  Β  Β  let isConnected = false;
Β  Β  Β  Β  
Β  Β  Β  Β  // --- μΊλ¦­ν„° λ°μ΄ν„°: μ΄λ―Έμ§€ κ²½λ΅, μ΄λ¦„, λ€μ‚¬, μ νλΈ λ§ν¬ ---
Β  Β  Β  Β  const charactersData = [
Β  Β  Β  Β  Β  Β  { level: 1, name: 'μ—λ“μ›λ“ ν•μ΄λ“', dialogue: 'Filled with evil, but truly alive!', youtube: 'https://www.youtube.com/watch?v=7tMdbC1w2Qc', image: './images/char_level1.png' },
Β  Β  Β  Β  Β  Β  { level: 2, name: 'λ£¨μ΄μ§€ λ£¨μΌ€λ‹', dialogue: 'μƒκ΄€μ—†μ§€, κ·Έκ² λ¬΄μ¨ μƒκ΄€μ΄λ. ν•ν’ν•λ©° μΆ…λ§μ΄λ‚ κΈ°λ‹¤λ¦¬μ§€', youtube: 'https://www.youtube.com/watch?v=6lqadpofsCY', image: './images/char_level2.png' },
Β  Β  Β  Β  Β  Β  { level: 3, name: 'λ°ν΄λ€ μ¤μ™„', dialogue: 'λ‚ν•ν… μ΄μ•ΌκΈ° κ°™μ€ κ±° μ—†μ–΄μ”. μ°λ¦¬ κ°™μ€ μ‚¬λλ“¤μ€ κ·Έλƒ¥ μ‚¬λ” κ±°μμ”.', youtube: 'https://www.youtube.com/watch?v=yn70v888TS0', image: './images/char_level3.png' },
Β  Β  Β  Β  Β  Β  { level: 4, name: 'μ•™λ¦¬ λ’¤ν”„λ ', dialogue: 'λ°”κΏ€μμ—†λ‹¤λ©΄ λ‚...μ›ƒμΌλ©΄μ„ λ³΄λ‚΄μ¤', youtube: 'https://youtu.be/-gBW9moqfEw?si=QxvVQGxmVXLTA2RV', image: './images/char_level4.png' },
Β  Β  Β  Β  Β  Β  { level: 5, name: 'μ•λ£μƒ¤ κΉλΌλ§μ΅°ν”„', dialogue: 'λ‚μ•½ν•λ‹¤λ” κ±΄ μ•„μ§λ„ μ‚¬λ‘ν•  μ μλ‹¤λ” κ±°', youtube: 'https://www.youtube.com/watch?v=TKNzwPkd9Pk', image: './images/char_level5.png' },
Β  Β  Β  Β  Β  Β  { level: 6, name: 'ν‚Ήν‚¤λ¶€μΈ  λ΅¤λΌ', dialogue: 'λ¬΄μ—‡μ„ μƒμƒν•λ“ μ§€ λ‚ κ·Έ μ΄μƒμ΄μ§€', youtube: 'https://www.youtube.com/watch?v=U4qxHto6cKk', image: './images/char_level6.png' },
Β  Β  Β  Β  Β  Β  { level: 7, name: 'μ λ£¨μƒ¤ μ• λ²—', dialogue: 'ν–‰λ³µμ λΉ„λ°€μ€ λ°”λ΅ ν„μ¬λ¥Ό μ‚΄κΈ°. μ΄ μκ°„ μ§€κΈ μ‚΄μ•„κ°€κΈ°', youtube: 'https://www.youtube.com/watch?v=jqsZlgaSZeo', image: './images/char_level7.png' },
Β  Β  Β  Β  Β  Β  { level: 8, name: 'λ§ν‹Έλ‹¤ μ›μ°λ“', dialogue: 'λ‚΄ μ†μΌλ΅ λ°”κΏ”μ•Όμ§€ λ‚μ μ–κΈ°', youtube: 'https://www.youtube.com/watch?v=WJOEfVJvqI8', image: './images/char_level8.png' },
Β  Β  Β  Β  Β  Β  { level: 9, name: 'μ•λ‚', dialogue: 'μ‚΄μ•„μ¨ λ‚ λ“¤κ³Ό μ‚¬λ‘ν• μ΄λ“¤μ΄ λ„λ¬΄λ‚ μ†μ¤‘ν• μ‚¬λ. μ§€κΈμ λ‚λ³΄λ‹¤ λ‚΄μΌμ λ‚΄κ°€ λ” μ¤‘μ”ν• μ‚¬λ', youtube: 'https://www.youtube.com/watch?v=mH2bq1CVNoU', image: './images/char_level9.png' },
Β  Β  Β  Β  Β  Β  { level: 10, name: 'μ—νλ°” νΈλ΅­', dialogue: 'λ„μ™€ λ‚΄κ°€ μ¤‘λ ¥μ„ λ²—μ–΄λ‚ μ € λμ—†λ” ν•λμ„ λ‚λ‹¤λ©΄ μ°λ¦΄ λ§‰μ„ μ μ—†μ–΄', youtube: 'https://www.youtube.com/watch?v=6-67Q0xALtU', image: './images/char_level10.png' }
Β  Β  Β  Β  ];
Β  Β  Β  Β  // ---------------------------------------------------
Β  Β  Β  Β  
Β  Β  Β  Β  // URL νλΌλ―Έν„° λ°©μ‹μΌλ΅ λ°μ΄ν„° μ „μ†΅
Β  Β  Β  Β  async function sendDataAsUrlParams(data) {
Β  Β  Β  Β  Β  Β  // URL νλΌλ―Έν„° μƒμ„±
Β  Β  Β  Β  Β  Β  const params = new URLSearchParams();
Β  Β  Β  Β  Β  Β  Object.keys(data).forEach(key => {
Β  Β  Β  Β  Β  Β  Β  Β  params.append(key, data[key]);
Β  Β  Β  Β  Β  Β  });
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // GET μ”μ²­μΌλ΅ νλΌλ―Έν„° μ „λ‹¬
Β  Β  Β  Β  Β  Β  const urlWithParams = APPS_SCRIPT_URL + '?' + params.toString();
Β  Β  Β  Β  Β  Β  const proxyUrl = CORS_PROXY + encodeURIComponent(urlWithParams);
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  console.log('μ „μ†΅ URL:', urlWithParams);
Β  Β  Β  Β  Β  Β  console.log('Proxy URL:', proxyUrl);
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  const response = await fetch(proxyUrl, {
Β  Β  Β  Β  Β  Β  Β  Β  method: 'GET'
Β  Β  Β  Β  Β  Β  });
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  if (!response.ok) {
Β  Β  Β  Β  Β  Β  Β  Β  throw new Error(`HTTP ${response.status}: ${response.statusText}`);
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  return await response.json();
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // μ¤ν”„λ λ“μ‹νΈμ—μ„ μµμ‹  λ°μ΄ν„° λ΅λ“
Β  Β  Β  Β  async function loadDataFromSheet() {
Β  Β  Β  Β  Β  Β  try {
Β  Β  Β  Β  Β  Β  Β  Β  console.log('π“¥ μ¤ν”„λ λ“μ‹νΈμ—μ„ λ°μ΄ν„° λ΅λ“ μ‹μ‘...');
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  // GET μ”μ²­μΌλ΅ λ°μ΄ν„°λ§ κ°€μ Έμ¤κΈ° (νλΌλ―Έν„° μ—†μ΄)
Β  Β  Β  Β  Β  Β  Β  Β  const url = CORS_PROXY + encodeURIComponent(APPS_SCRIPT_URL);
Β  Β  Β  Β  Β  Β  Β  Β  const response = await fetch(url);
Β  Β  Β  Β  Β  Β  Β  Β  const result = await response.json();
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  console.log('μ„λ²„ μ‘λ‹µ:', result);
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  // μ„λ²„μ—μ„ gameDataλ¥Ό λ°ν™ν•λ©΄ μ—…λ°μ΄νΈ
Β  Β  Β  Β  Β  Β  Β  Β  if (result.success && result.gameData) {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  console.log('β… μ¤ν”„λ λ“μ‹νΈ λ°μ΄ν„° λ΅λ“ μ„±κ³µ');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  gameData = result.gameData; // κΈ°μ΅΄ 0,0 λ€μ‹  μ¤ν”„λ λ“μ‹νΈ λ°μ΄ν„° μ‚¬μ©
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  return result;
Β  Β  Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  console.log('β οΈ μ„λ²„μ—μ„ gameData μ—†μ');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  return result;
Β  Β  Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  } catch (error) {
Β  Β  Β  Β  Β  Β  Β  Β  console.error('λ°μ΄ν„° λ΅λ“ μ‹¤ν¨:', error);
Β  Β  Β  Β  Β  Β  Β  Β  throw error;
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // μ΄κΈ°ν™”
Β  Β  Β  Β  async function initializeApp() {
Β  Β  Β  Β  Β  Β  updateSyncStatus('π”„ URL νλΌλ―Έν„° λ°©μ‹μΌλ΅ μ—°κ²° ν…μ¤νΈ μ¤‘...', 'loading');
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  try {
Β  Β  Β  Β  Β  Β  Β  Β  // 1λ‹¨κ³„: κΈ°λ³Έ μ—°κ²° ν…μ¤νΈ
Β  Β  Β  Β  Β  Β  Β  Β  const url = CORS_PROXY + encodeURIComponent(APPS_SCRIPT_URL);
Β  Β  Β  Β  Β  Β  Β  Β  const response = await fetch(url);
Β  Β  Β  Β  Β  Β  Β  Β  const result = await response.json();
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  if (result.success) {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  isConnected = true;
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('β… μ—°κ²° μ„±κ³µ! μ¤ν”„λ λ“μ‹νΈμ—μ„ λ°μ΄ν„° λ΅λ”© μ¤‘...', 'loading');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  // 2λ‹¨κ³„: μ¤ν”„λ λ“μ‹νΈμ—μ„ μ‹¤μ  λ°μ΄ν„° λ΅λ“
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  if (result.gameData) {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  console.log('β… μ¤ν”„λ λ“μ‹νΈ λ°μ΄ν„° λ°κ²¬:', result.gameData);
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  gameData = result.gameData; // κΈ°μ΅΄ 0,0 λ€μ‹  μ¤ν”„λ λ“μ‹νΈ λ°μ΄ν„° μ‚¬μ©
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('β… μ¤ν”„λ λ“μ‹νΈ λ°μ΄ν„° λ΅λ“ μ™„λ£!', 'success');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDebugInfo('λ΅λ“ μ™„λ£', `μμ§€: ${gameData.μμ§€.points}ν¬μΈνΈ, μ΄μ§€: ${gameData.μ΄μ§€.points}ν¬μΈνΈ`);
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  console.log('β οΈ μ¤ν”„λ λ“μ‹νΈ λ°μ΄ν„° μ—†μ, κΈ°λ³Έκ°’ μ‚¬μ©');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('β… μ—°κ²° μ™„λ£ (κΈ°λ³Έκ°’ μ‚¬μ©)', 'success');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDebugInfo('κΈ°λ³Έκ°’ μ‚¬μ©', 'μ¤ν”„λ λ“μ‹νΈμ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤μ§€ λ»ν•¨');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  throw new Error(result.message || 'μ—°κ²° ν…μ¤νΈ μ‹¤ν¨');
Β  Β  Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  } catch (error) {
Β  Β  Β  Β  Β  Β  Β  Β  console.error('μ΄κΈ°ν™” μ¤λ¥:', error);
Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('β μ—°κ²° μ‹¤ν¨: ' + error.message, 'error');
Β  Β  Β  Β  Β  Β  Β  Β  updateDebugInfo('μ—°κ²° μ‹¤ν¨', error.message);
Β  Β  Β  Β  Β  Β  Β  Β  isConnected = false;
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  // μ—°κ²° μ‹¤ν¨ν•΄λ„ κΈ°λ³Έκ°’μΌλ΅ μ‹μ‘
Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // ν¬μΈνΈ μ¶”κ°€
Β  Β  Β  Β  async function addPoints(points) {
Β  Β  Β  Β  Β  Β  if (!isConnected) {
Β  Β  Β  Β  Β  Β  Β  Β  showNotification('μ—°κ²°λμ§€ μ•μ•μµλ‹λ‹¤.', 'error');
Β  Β  Β  Β  Β  Β  Β  Β  return;
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  const currentUser = document.getElementById('user-select').value;
Β  Β  Β  Β  Β  Β  const userData = gameData[currentUser];
Β  Β  Β  Β  Β  Β  const oldLevel = userData.level;
Β  Β  Β  Β  Β  Β  const oldPoints = userData.points;
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  console.log(`π“ ν¬μΈνΈ μ¶”κ°€ μ „ μƒνƒ: ${currentUser} - ${oldPoints}ν¬μΈνΈ, ${oldLevel}λ λ²¨`);
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // λ§μ§€λ§‰ ν–‰λ™ κΈ°λ΅
Β  Β  Β  Β  Β  Β  lastAction = {
Β  Β  Β  Β  Β  Β  Β  Β  user: currentUser,
Β  Β  Β  Β  Β  Β  Β  Β  points: points,
Β  Β  Β  Β  Β  Β  Β  Β  oldLevel: oldLevel,
Β  Β  Β  Β  Β  Β  Β  Β  oldPoints: oldPoints
Β  Β  Β  Β  Β  Β  };
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // ν„μ¬ ν¬μΈνΈμ— μ¶”κ°€ (μ¤ν”„λ λ“μ‹νΈ κ°’ κΈ°μ¤€)
Β  Β  Β  Β  Β  Β  userData.points += points;
Β  Β  Β  Β  Β  Β  console.log(`β• ${points}ν¬μΈνΈ μ¶”κ°€ ν›„: ${userData.points}ν¬μΈνΈ`);
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // λ λ²¨μ—… μ²΄ν¬
Β  Β  Β  Β  Β  Β  let levelUpCount = 0;
Β  Β  Β  Β  Β  Β  // charactersData.lengthλ” λ°°μ—΄μ κΈΈμ΄, μ¦‰ μ΄ μΊλ¦­ν„° λ λ²¨ μλ¥Ό μλ―Έν•©λ‹λ‹¤.
Β  Β  Β  Β  Β  Β  // charactersData λ°°μ—΄μ μΈλ±μ¤λ” 0λ¶€ν„° μ‹μ‘ν•λ―€λ΅, λ λ²¨ 12 μΊλ¦­ν„°λ” μΈλ±μ¤ 11μ— μμµλ‹λ‹¤.
Β  Β  Β  Β  Β  Β  // λ”°λΌμ„ μµλ€ λ λ²¨μ€ charactersData.lengthκ°€ λ©λ‹λ‹¤.
Β  Β  Β  Β  Β  Β  while (userData.points >= 100 && userData.level < charactersData.length) {Β 
Β  Β  Β  Β  Β  Β  Β  Β  userData.level++;
Β  Β  Β  Β  Β  Β  Β  Β  userData.points -= 100;
Β  Β  Β  Β  Β  Β  Β  Β  levelUpCount++;
Β  Β  Β  Β  Β  Β  Β  Β  console.log(`π‰ λ λ²¨μ—…! β†’ λ λ²¨ ${userData.level}, λ‚¨μ€ ν¬μΈνΈ: ${userData.points}`);
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // λ λ²¨μ—… μ•λ¦Ό
Β  Β  Β  Β  Β  Β  if (levelUpCount > 0) {
Β  Β  Β  Β  Β  Β  Β  Β  showNotification(`π‰ ${currentUser}κ°€ λ λ²¨ ${userData.level}λ΅ μ„±μ¥ν–μµλ‹λ‹¤!`);
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // μµλ€ λ λ²¨μ—μ„λ” 100μΌλ΅ κ³ μ •
Β  Β  Β  Β  Β  Β  if (userData.level >= charactersData.length) {
Β  Β  Β  Β  Β  Β  Β  Β  userData.points = Math.min(userData.points, 100);
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  console.log(`π“ μµμΆ… μƒνƒ: ${currentUser} - ${userData.points}ν¬μΈνΈ, ${userData.level}λ λ²¨`);
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  try {
Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('π“¤ λ°μ΄ν„° μ €μ¥ μ¤‘...', 'loading');
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  // URL νλΌλ―Έν„° λ°©μ‹μΌλ΅ λ°μ΄ν„° μ „μ†΅
Β  Β  Β  Β  Β  Β  Β  Β  const result = await sendDataAsUrlParams({
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μμ§€_points: gameData['μμ§€'].points,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μμ§€_level: gameData['μμ§€'].level,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€_points: gameData['μ΄μ§€'].points,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€_level: gameData['μ΄μ§€'].level
Β  Β  Β  Β  Β  Β  Β  Β  });
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  console.log('μ„λ²„ μ‘λ‹µ:', result);
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  if (result.success && result.debugInfo && result.debugInfo.updateCount > 0) {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  showNotification(`${currentUser}κ°€ +${points} ν¬μΈνΈ νλ“! (μ΄ ${userData.points}ν¬μΈνΈ)`);
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('β… λ°μ΄ν„° μ €μ¥ μ™„λ£!', 'success');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDebugInfo('μ €μ¥ μ„±κ³µ', `${result.debugInfo.updateCount}κ° μ—…λ°μ΄νΈλ¨`);
Β  Β  Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  throw new Error(`μ—…λ°μ΄νΈ μ‹¤ν¨: ${result.debugInfo ? result.debugInfo.updateCount : 0}κ° μ—…λ°μ΄νΈλ¨`);
Β  Β  Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  } catch (error) {
Β  Β  Β  Β  Β  Β  Β  Β  // μ¤λ¥ μ‹ λ΅¤λ°±
Β  Β  Β  Β  Β  Β  Β  Β  console.log('β μ €μ¥ μ‹¤ν¨, λ΅¤λ°± μ¤‘...');
Β  Β  Β  Β  Β  Β  Β  Β  userData.level = oldLevel;
Β  Β  Β  Β  Β  Β  Β  Β  userData.points = oldPoints;
Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  showNotification('μ €μ¥ μ‹¤ν¨: ' + error.message, 'error');
Β  Β  Β  Β  Β  Β  Β  Β  updateSyncStatus('β μ €μ¥ μ‹¤ν¨', 'error');
Β  Β  Β  Β  Β  Β  Β  Β  updateDebugInfo('μ €μ¥ μ‹¤ν¨', error.message);
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // λ§μ§€λ§‰ ν–‰λ™ λλλ¦¬κΈ°
Β  Β  Β  Β  async function undoLastAction() {
Β  Β  Β  Β  Β  Β  if (!lastAction) {
Β  Β  Β  Β  Β  Β  Β  Β  showNotification('λλλ¦΄ ν–‰λ™μ΄ μ—†μµλ‹λ‹¤.', 'error');
Β  Β  Β  Β  Β  Β  Β  Β  return;
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  const userData = gameData[lastAction.user];
Β  Β  Β  Β  Β  Β  userData.level = lastAction.oldLevel;
Β  Β  Β  Β  Β  Β  userData.points = lastAction.oldPoints;
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  try {
Β  Β  Β  Β  Β  Β  Β  Β  const result = await sendDataAsUrlParams({
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μμ§€_points: gameData['μμ§€'].points,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μμ§€_level: gameData['μμ§€'].level,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€_points: gameData['μ΄μ§€'].points,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€_level: gameData['μ΄μ§€'].level
Β  Β  Β  Β  Β  Β  Β  Β  });
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  if (result.success && result.debugInfo && result.debugInfo.updateCount > 0) {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  showNotification('λ§μ§€λ§‰ ν–‰λ™μ΄ μ·¨μ†λμ—μµλ‹λ‹¤.');
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  lastAction = null;
Β  Β  Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  throw new Error('μ·¨μ† μ‹¤ν¨');
Β  Β  Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  } catch (error) {
Β  Β  Β  Β  Β  Β  Β  Β  showNotification('μ·¨μ† μ‹¤ν¨: ' + error.message, 'error');
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // μ§„ν–‰μƒν™© μ΄κΈ°ν™”
Β  Β  Β  Β  async function resetProgress() {
Β  Β  Β  Β  Β  Β  if (!confirm('μ •λ§λ΅ λ¨λ“  μ§„ν–‰μƒν™©μ„ μ΄κΈ°ν™”ν•μ‹κ² μµλ‹κΉ?')) {
Β  Β  Β  Β  Β  Β  Β  Β  return;
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  gameData = {
Β  Β  Β  Β  Β  Β  Β  Β  μμ§€: { points: 0, level: 1 },
Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€: { points: 0, level: 1 }
Β  Β  Β  Β  Β  Β  };
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  try {
Β  Β  Β  Β  Β  Β  Β  Β  const result = await sendDataAsUrlParams({
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μμ§€_points: 0,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μμ§€_level: 1,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€_points: 0,
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  μ΄μ§€_level: 1
Β  Β  Β  Β  Β  Β  Β  Β  });
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  Β  Β  if (result.success && result.debugInfo && result.debugInfo.updateCount > 0) {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  updateDisplay();
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  showNotification('μ§„ν–‰μƒν™©μ΄ μ΄κΈ°ν™”λμ—μµλ‹λ‹¤.');
Β  Β  Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  Β  Β  throw new Error('μ΄κΈ°ν™” μ‹¤ν¨');
Β  Β  Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  } catch (error) {
Β  Β  Β  Β  Β  Β  Β  Β  showNotification('μ΄κΈ°ν™” μ‹¤ν¨: ' + error.message, 'error');
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // ν™”λ©΄ μ—…λ°μ΄νΈ
Β  Β  Β  Β  function updateDisplay() {
Β  Β  Β  Β  Β  Β  // μμ§€
Β  Β  Β  Β  Β  Β  const yejiData = gameData.μμ§€;
Β  Β  Β  Β  Β  Β  const yejiLevel = yejiData.level;
Β  Β  Β  Β  Β  Β  const yejiPoints = yejiData.points;
Β  Β  Β  Β  Β  Β  const yejiProgress = (yejiPoints / 100) * 100;
Β  Β  Β  Β  Β  Β  // λ°°μ—΄μ κΈΈμ΄λ¥Ό μ΄κ³Όν•μ§€ μ•λ„λ΅ λ³΄μ • (μµλ€ λ λ²¨κΉμ§€λ§ ν‘μ‹)
Β  Β  Β  Β  Β  Β  const yejiCharInfo = charactersData[Math.min(yejiLevel - 1, charactersData.length - 1)];
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  document.getElementById('yeji-image').src = yejiCharInfo.image;
Β  Β  Β  Β  Β  Β  document.getElementById('yeji-name').textContent = yejiCharInfo.name;
Β  Β  Β  Β  Β  Β  document.getElementById('yeji-dialogue').textContent = yejiCharInfo.dialogue;

Β  Β  Β  Β  Β  Β  const yejiYoutubeElement = document.getElementById('yeji-youtube');
Β  Β  Β  Β  Β  Β  if (yejiCharInfo.youtube) {
Β  Β  Β  Β  Β  Β  Β  Β  yejiYoutubeElement.innerHTML = `<a href="${yejiCharInfo.youtube}" target="_blank">π¶ μμ•… λ“£κΈ°</a>`;
Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  yejiYoutubeElement.innerHTML = ''; // λ§ν¬κ°€ μ—†μΌλ©΄ λΉ„μ›λ‘ 
Β  Β  Β  Β  Β  Β  }
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  document.getElementById('yeji-level').textContent = `λ λ²¨ ${yejiLevel}`;
Β  Β  Β  Β  Β  Β  document.getElementById('yeji-progress').style.width = `${yejiProgress}%`;
Β  Β  Β  Β  Β  Β  document.getElementById('yeji-text').textContent = `${yejiPoints}/100`;
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  // μ΄μ§€
Β  Β  Β  Β  Β  Β  const iziData = gameData.μ΄μ§€;
Β  Β  Β  Β  Β  Β  const iziLevel = iziData.level;
Β  Β  Β  Β  Β  Β  const iziPoints = iziData.points;
Β  Β  Β  Β  Β  Β  const iziProgress = (iziPoints / 100) * 100;
Β  Β  Β  Β  Β  Β  // λ°°μ—΄μ κΈΈμ΄λ¥Ό μ΄κ³Όν•μ§€ μ•λ„λ΅ λ³΄μ • (μµλ€ λ λ²¨κΉμ§€λ§ ν‘μ‹)
Β  Β  Β  Β  Β  Β  const iziCharInfo = charactersData[Math.min(iziLevel - 1, charactersData.length - 1)];
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  document.getElementById('izi-image').src = iziCharInfo.image;
Β  Β  Β  Β  Β  Β  document.getElementById('izi-name').textContent = iziCharInfo.name;
Β  Β  Β  Β  Β  Β  document.getElementById('izi-dialogue').textContent = iziCharInfo.dialogue;

Β  Β  Β  Β  Β  Β  const iziYoutubeElement = document.getElementById('izi-youtube');
Β  Β  Β  Β  Β  Β  if (iziCharInfo.youtube) {
Β  Β  Β  Β  Β  Β  Β  Β  iziYoutubeElement.innerHTML = `<a href="${iziCharInfo.youtube}" target="_blank">π¶ μμ•… λ“£κΈ°</a>`;
Β  Β  Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  Β  Β  iziYoutubeElement.innerHTML = ''; // λ§ν¬κ°€ μ—†μΌλ©΄ λΉ„μ›λ‘ 
Β  Β  Β  Β  Β  Β  }

Β  Β  Β  Β  Β  Β  document.getElementById('izi-level').textContent = `λ λ²¨ ${iziLevel}`;
Β  Β  Β  Β  Β  Β  document.getElementById('izi-progress').style.width = `${iziProgress}%`;
Β  Β  Β  Β  Β  Β  document.getElementById('izi-text').textContent = `${iziPoints}/100`;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // λ™κΈ°ν™” μƒνƒ μ—…λ°μ΄νΈ
Β  Β  Β  Β  function updateSyncStatus(message, type) {
Β  Β  Β  Β  Β  Β  const statusElement = document.getElementById('sync-status');
Β  Β  Β  Β  Β  Β  statusElement.textContent = message;
Β  Β  Β  Β  Β  Β  statusElement.className = `sync-status ${type}`;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // λ””λ²„κ·Έ μ •λ³΄ μ—…λ°μ΄νΈ
Β  Β  Β  Β  function updateDebugInfo(status, detail) {
Β  Β  Β  Β  Β  Β  const debugElement = document.getElementById('debug-info');
Β  Β  Β  Β  Β  Β  debugElement.innerHTML = `
Β  Β  Β  Β  Β  Β  Β  Β  μ—°κ²° λ°©μ‹: URL νλΌλ―Έν„° + Proxy<br>
Β  Β  Β  Β  Β  Β  Β  Β  μƒνƒ: ${status}<br>
Β  Β  Β  Β  Β  Β  Β  Β  μ„Έλ¶€μ‚¬ν•­: ${detail}
Β  Β  Β  Β  Β  Β  `;
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // μ•λ¦Ό ν‘μ‹
Β  Β  Β  Β  function showNotification(message, type = 'success') {
Β  Β  Β  Β  Β  Β  const notification = document.getElementById('notification');
Β  Β  Β  Β  Β  Β  notification.textContent = message;
Β  Β  Β  Β  Β  Β  notification.className = `notification show ${type}`;
Β  Β  Β  Β  Β  Β  
Β  Β  Β  Β  Β  Β  setTimeout(() => {
Β  Β  Β  Β  Β  Β  Β  Β  notification.classList.remove('show');
Β  Β  Β  Β  Β  Β  }, 3000);
Β  Β  Β  Β  }
Β  Β  Β  Β  
Β  Β  Β  Β  // μ‹μ‘
Β  Β  Β  Β  if (document.readyState === 'loading') {
Β  Β  Β  Β  Β  Β  document.addEventListener('DOMContentLoaded', initializeApp);
Β  Β  Β  Β  } else {
Β  Β  Β  Β  Β  Β  initializeApp();
Β  Β  Β  Β  }
Β  Β  </script>
</body>
</html>
